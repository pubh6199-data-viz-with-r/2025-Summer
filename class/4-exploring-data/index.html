<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Exploring Data</title>
    <meta charset="utf-8" />
    <meta name="author" content="John Paul Helveston" />
    <meta name="date" content="2024-09-18" />
    <script src="libs/header-attrs/header-attrs.js"></script>
    <link href="libs/remark-css/default.css" rel="stylesheet" />
    <link href="libs/tile-view/tile-view.css" rel="stylesheet" />
    <script src="libs/tile-view/tile-view.js"></script>
    <link href="libs/panelset/panelset.css" rel="stylesheet" />
    <script src="libs/panelset/panelset.js"></script>
    <script src="libs/clipboard/clipboard.min.js"></script>
    <link href="libs/shareon/shareon.min.css" rel="stylesheet" />
    <script src="libs/shareon/shareon.min.js"></script>
    <link href="libs/xaringanExtra-shareagain/shareagain.css" rel="stylesheet" />
    <script src="libs/xaringanExtra-shareagain/shareagain.js"></script>
    <link href="libs/xaringanExtra-extra-styles/xaringanExtra-extra-styles.css" rel="stylesheet" />
    <meta name="description" content="EMSE 4572/6572: Exploratory Data Analysis"/>
    <meta name="generator" content="xaringan and remark.js"/>
    <meta name="github-repo" content="emse-eda-gwu/2023-Fall"/>
    <meta name="twitter:title" content="Exploring Data"/>
    <meta name="twitter:description" content="EMSE 4572/6572: Exploratory Data Analysis"/>
    <meta name="twitter:url" content="https://eda.seas.gwu.edu/2023-Fall/"/>
    <meta name="twitter:card" content="summary_large_image"/>
    <meta name="twitter:creator" content="@johnhelveston"/>
    <meta name="twitter:site" content="@johnhelveston"/>
    <meta property="og:title" content="Exploring Data"/>
    <meta property="og:description" content="EMSE 4572/6572: Exploratory Data Analysis"/>
    <meta property="og:url" content="https://eda.seas.gwu.edu/2023-Fall/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:locale" content="en_US"/>
    <meta property="article:author" content="John Paul Helveston"/>
    <link href="libs/countdown/countdown.css" rel="stylesheet" />
    <script src="libs/countdown/countdown.js"></script>
    <link rel="stylesheet" href="css/lexis.css" type="text/css" />
    <link rel="stylesheet" href="css/lexis-fonts.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">





class: middle, inverse

.leftcol30[

&lt;center&gt;
&lt;img src="https://eda.seas.gwu.edu/images/logo.png" width=250&gt;
&lt;/center&gt;

]

.rightcol70[

# Week 4: .fancy[Exploring Data]

### <svg aria-hidden="true" role="img" viewBox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:white;overflow:visible;position:relative;"><path d="M243.4 2.6l-224 96c-14 6-21.8 21-18.7 35.8S16.8 160 32 160v8c0 13.3 10.7 24 24 24H456c13.3 0 24-10.7 24-24v-8c15.2 0 28.3-10.7 31.3-25.6s-4.8-29.9-18.7-35.8l-224-96c-8-3.4-17.2-3.4-25.2 0zM128 224H64V420.3c-.6 .3-1.2 .7-1.8 1.1l-48 32c-11.7 7.8-17 22.4-12.9 35.9S17.9 512 32 512H480c14.1 0 26.5-9.2 30.6-22.7s-1.1-28.1-12.9-35.9l-48-32c-.6-.4-1.2-.7-1.8-1.1V224H384V416H344V224H280V416H232V224H168V416H128V224zM256 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"/></svg> EMSE 4572/6572: Exploratory Data Analysis
### <svg aria-hidden="true" role="img" viewBox="0 0 448 512" style="height:1em;width:0.88em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:white;overflow:visible;position:relative;"><path d="M304 128a80 80 0 1 0 -160 0 80 80 0 1 0 160 0zM96 128a128 128 0 1 1 256 0A128 128 0 1 1 96 128zM49.3 464H398.7c-8.9-63.3-63.3-112-129-112H178.3c-65.7 0-120.1 48.7-129 112zM0 482.3C0 383.8 79.8 304 178.3 304h91.4C368.2 304 448 383.8 448 482.3c0 16.4-13.3 29.7-29.7 29.7H29.7C13.3 512 0 498.7 0 482.3z"/></svg> John Paul Helveston
### <svg aria-hidden="true" role="img" viewBox="0 0 448 512" style="height:1em;width:0.88em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:white;overflow:visible;position:relative;"><path d="M152 24c0-13.3-10.7-24-24-24s-24 10.7-24 24V64H64C28.7 64 0 92.7 0 128v16 48V448c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V192 144 128c0-35.3-28.7-64-64-64H344V24c0-13.3-10.7-24-24-24s-24 10.7-24 24V64H152V24zM48 192H400V448c0 8.8-7.2 16-16 16H64c-8.8 0-16-7.2-16-16V192z"/></svg> September 18, 2024

]



---

class: center, middle, inverse

# Quiz solution

---

class: center, middle, inverse

# Tip of the week:

# `theme_set()`

---


``` r
ggplot(mtcars) +
  geom_point(aes(x = mpg, y = hp))
```

.leftcol[

Default theme

&lt;img src="figs/unnamed-chunk-3-1.png" width="522.144" /&gt;

]

.rightcol[

`theme_bw(base_size = 20)`

&lt;img src="figs/unnamed-chunk-4-1.png" width="522.144" /&gt;

]

---



class: inverse, middle

# Week 4: .fancy[Exploring Data]

.leftcol[

### 1. Exploring Data
### 2. Data Types
### 3. Centrality &amp; Variability
### 4. Visualizing Centrality &amp; Variability

]

.rightcol[

### BREAK

### 5. Correlation
### 6. Visualizing Correlation
### 7. Visualizing Relationships

]

---



class: inverse, middle

# Week 4: .fancy[Exploring Data]

.leftcol[

### 1. .orange[Exploring Data]
### 2. Data Types
### 3. Centrality &amp; Variability
### 4. Visualizing Centrality &amp; Variability

]

.rightcol[

### BREAK

### 5. Correlation
### 6. Visualizing Correlation
### 7. Visualizing Relationships

]

---

.leftcol[

# Exploratory Analysis

&lt;br&gt;

### Goal: **Form** hypotheses.
### Improves quality of **questions**.
### _(what we do in THIS class)_

]

--

.rightcol[

# Confirmatory Analysis

&lt;br&gt;

### Goal: **Test** hypotheses.
### Improves quality of **answers**.
### _(what you do in a stats class)_

]

---

.leftcol[

# Exploratory Analysis

&lt;br&gt;

RQ: Do people bike more when the weather is nice?

&lt;center&gt;
&lt;img src="images/biking.png" width=ru0%&gt;
&lt;/center&gt;

]

--

.rightcol[

# Confirmatory Analysis

&lt;br&gt;

Let's build a model to predict bike usage based on weather.

]

---

class: center, inverse

# Don't be Icarus

&lt;center&gt;
&lt;img src="images/icarus.jpg" width=800&gt;
&lt;/center&gt;

---

class: inverse, middle

## "An _approximate_ answer to the _right_ question is better&lt;br&gt;than an _exact_ answer to the _wrong_ question."
## — [John Tukey](https://en.wikipedia.org/wiki/John_Tukey)

---

class: center
background-color: #FFFFFF

**EDA is an iterative process to help you&lt;br&gt;_understand_ your data and ask better questions**

&lt;center&gt;
&lt;img src="images/eda.png" width=700&gt;
&lt;/center&gt;

---



class: inverse, middle

# Week 4: .fancy[Exploring Data]

.leftcol[

### 1. Exploring Data
### 2. .orange[Data Types]
### 3. Centrality &amp; Variability
### 4. Visualizing Centrality &amp; Variability

]

.rightcol[

### BREAK

### 5. Correlation
### 6. Visualizing Correlation
### 7. Visualizing Relationships

]

---

class: inverse, center, middle

# 24,901

???

If I walked up to you, and said, "The answer is 24,901,"
you would probably be confused.
By itself, a number means nothing.

---

class: inverse, center, middle

# .orange[Earth's circumference at the equator:]&lt;br&gt;24,901

???

But if I were to tell you that the circumference of the earth at the equator is 24,901 miles, that would mean something.

---

class: inverse, center, middle

# Earth's circumference at the equator:&lt;br&gt;24,901 .orange[miles]

???

To be complete and meaningful, quantitative information consists of both quantitative data (the numbers) and categorical data (the labels that tell us what the numbers measure).

---

# Types of Data

--

.leftcol[

### **Categorical**

Subdivide things into _groups_

- What type?
- Which category?

]

--

.rightcol[

### **Numerical**

Measure things with numbers

- How many?
- How much?

]

---

## Categorical (discrete) variables

--

.leftcol[

### **Nominal**

- Order doesn't matter
- Differ in "name" (nominal) only

e.g. `country` in TB case data:

.code80[


```
#&gt; # A tibble: 6 × 4
#&gt;   country      year  cases population
#&gt;   &lt;chr&gt;       &lt;dbl&gt;  &lt;dbl&gt;      &lt;dbl&gt;
#&gt; 1 Afghanistan  1999    745   19987071
#&gt; 2 Afghanistan  2000   2666   20595360
#&gt; 3 Brazil       1999  37737  172006362
#&gt; 4 Brazil       2000  80488  174504898
#&gt; 5 China        1999 212258 1272915272
#&gt; 6 China        2000 213766 1280428583
```

]]

--

.rightcol[

### **Ordinal**

- Order matters
- Distance between units not equal

e.g.: `Placement` 2017 Boston marathon:

.code80[


```
#&gt; # A tibble: 6 × 3
#&gt;   Placement `Official Time` Name            
#&gt;       &lt;dbl&gt; &lt;time&gt;          &lt;chr&gt;           
#&gt; 1         1 02:09:37        Kirui, Geoffrey 
#&gt; 2         2 02:09:58        Rupp, Galen     
#&gt; 3         3 02:10:28        Osako, Suguru   
#&gt; 4         4 02:12:08        Biwott, Shadrack
#&gt; 5         5 02:12:35        Chebet, Wilson  
#&gt; 6         6 02:12:45        Abdirahman, Abdi
```

]]

---

## Numerical data

--

.leftcol[

### **Interval**

- Numerical scale with&lt;br&gt;arbitrary starting point
- No "0" point
- Can't say "x" is double "y"

e.g.: `temp` in Beaver data


```
#&gt;   day time  temp activ
#&gt; 1 346  840 36.33     0
#&gt; 2 346  850 36.34     0
#&gt; 3 346  900 36.35     0
#&gt; 4 346  910 36.42     0
#&gt; 5 346  920 36.55     0
#&gt; 6 346  930 36.69     0
```

]

--

.rightcol[

### **Ratio**

- Has a "0" point
- Can be described as percentages
- Can say "x" is double "y"

e.g.: `height` &amp; `speed` in wildlife impacts


```
#&gt; # A tibble: 6 × 3
#&gt;   incident_date       height speed
#&gt;   &lt;dttm&gt;               &lt;dbl&gt; &lt;dbl&gt;
#&gt; 1 2018-12-31 00:00:00    700   200
#&gt; 2 2018-12-27 00:00:00    600   145
#&gt; 3 2018-12-23 00:00:00      0   130
#&gt; 4 2018-12-22 00:00:00    500   160
#&gt; 5 2018-12-21 00:00:00    100   150
#&gt; 6 2018-12-18 00:00:00   4500   250
```

]

---

class: inverse, center, middle

# Key Questions

--

.leftcol[

## Categorical

## .orange[Does the order matter?]

Yes: **Ordinal**

No: **Nominal**

]

--

.rightcol[

## Numerical

## .orange[Is there a "baseline"?]

Yes: **Ratio** 

No: **Interval**

]

---

class: center, middle

# Be careful of how variables are encoded!

---

## .red[When numbers are categories]

- "Dummy coding": e.g., `passedTest` = `1` or `0`)
- "North", "South", "East", "West" = `1`, `2`, `3`, `4`

--

## .red[When ratio data are discrete (i.e. counts)]

- Number of eggs in a carton, heart beats per minute, etc.
- Continuous variables measured discretely (e.g. age)

--

## .red[Time]

- As _ordinal_ categories: "Jan.", "Feb.", "Mar.", etc.
- As _interval_ scale: "Jan. 1", "Jan. 2", "Jan. 3", etc.
- As _ratio_ scale: "30 sec", "60 sec", "70 sec", etc.

---



class: inverse, middle

# Week 4: .fancy[Exploring Data]

.leftcol[

### 1. Exploring Data
### 2. Data Types
### 3. .orange[Centrality &amp; Variability]
### 4. Visualizing Centrality &amp; Variability

]

.rightcol[

### BREAK

### 5. Correlation
### 6. Visualizing Correlation
### 7. Visualizing Relationships

]

---

class: inverse, middle

# .center[.font140[Summary Measures:]]

# Single variables: .red[Centrality] &amp;  .blue[Variability]

# Two variables: .green[Correlation]

---

# .center[.red[Centrality (a.k.a. The "Average" Value)]]

--

### .center[A single number representing the _middle_ of a set of numbers]

&lt;br&gt;

--

### **Mean**: `\(\frac{\text{Sum of values}}{\text{# of values}}\)`

--

### **Median**: "Middle" value (50% of data above &amp; below)

---

# .center[Mean isn't always the "best" choice]

.leftcol40[


``` r
wildlife_impacts %&gt;%
    filter(! is.na(height)) %&gt;%
    summarise(
      mean = mean(height),
      median = median(height)
    )
```

```
#&gt; # A tibble: 1 × 2
#&gt;    mean median
#&gt;   &lt;dbl&gt;  &lt;dbl&gt;
#&gt; 1  984.     50
```

Percent of data below mean:


```
#&gt; [1] "73.9%"
```

]

--

.rightcol60[

.center[**On average, at what height do planes hit birds?**]

&lt;img src="figs/wildlife-hist.png"&gt;

]

???

On average, where do planes hit birds?
Saying ~1000 ft is misleading
It's much more likely to be under 100 ft

---

class: inverse

# .center[Beware the "flaw of averages"]

--

.leftcol[

### What happened to the statistician that crossed a river with an average depth of 3 feet?

]

--

.rightcol[

### ...he drowned

&lt;img src="images/foa.jpg" width=600&gt;

]

---

# .center[.blue[Variability ("Spread")]]

--

### **Standard deviation**: distribution of values relative to the mean
### `\(s = \sqrt{\frac{\sum_{i=1}^{N}(x_i - \bar{x})^2}{N - 1}}\)`

--

### **Interquartile range (IQR)**: `\(Q_3 - Q_1\)` (middle 50% of data)

--

### **Range**: max - min

---

# .center[.fancy[Example:] Days to ship]

.leftcol40[

Complaints are coming in about orders shipped from warehouse B, so you collect some data:

.code70[


``` r
daysToShip
```

```
#&gt;    order warehouseA warehouseB
#&gt; 1      1          3          1
#&gt; 2      2          3          1
#&gt; 3      3          3          1
#&gt; 4      4          4          3
#&gt; 5      5          4          3
#&gt; 6      6          4          4
#&gt; 7      7          5          5
#&gt; 8      8          5          5
#&gt; 9      9          5          5
#&gt; 10    10          5          6
#&gt; 11    11          5          7
#&gt; 12    12          5         10
```

]]

--

.rightcol60[

Here, **averages** are misleading:


``` r
daysToShip %&gt;%
    gather(warehouse, days, warehouseA:warehouseB) %&gt;%
    group_by(warehouse) %&gt;%
    summarise(
*       mean   = mean(days),
*       median = median(days))
```

```
#&gt; # A tibble: 2 × 3
#&gt;   warehouse   mean median
#&gt;   &lt;chr&gt;      &lt;dbl&gt;  &lt;dbl&gt;
#&gt; 1 warehouseA  4.25    4.5
#&gt; 2 warehouseB  4.25    4.5
```

]

---

# .center[.fancy[Example:] Days to ship]

.leftcol40[

Complaints are coming in about orders shipped from warehouse B, so you collect some data:

.code70[


``` r
daysToShip
```

```
#&gt;    order warehouseA warehouseB
#&gt; 1      1          3          1
#&gt; 2      2          3          1
#&gt; 3      3          3          1
#&gt; 4      4          4          3
#&gt; 5      5          4          3
#&gt; 6      6          4          4
#&gt; 7      7          5          5
#&gt; 8      8          5          5
#&gt; 9      9          5          5
#&gt; 10    10          5          6
#&gt; 11    11          5          7
#&gt; 12    12          5         10
```

]]

.rightcol60[

**Variability** reveals difference in days to ship:


``` r
daysToShip %&gt;%
    gather(warehouse, days, warehouseA:warehouseB) %&gt;%
    group_by(warehouse) %&gt;%
    summarise(
        mean   = mean(days),
        median = median(days),
*       range = max(days) - min(days),
*       sd    = sd(days))
```

```
#&gt; # A tibble: 2 × 5
#&gt;   warehouse   mean median range    sd
#&gt;   &lt;chr&gt;      &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
#&gt; 1 warehouseA  4.25    4.5     2 0.866
#&gt; 2 warehouseB  4.25    4.5     9 2.70
```

]

---

# .center[.fancy[Example:] Days to ship]

&lt;center&gt;
&lt;img src="figs/days-to-ship.png" width=960&gt;
&lt;/center&gt;

---

class: center

# Interpreting the standard deviation

.leftcol[

### `\(s = \sqrt{\frac{\sum_{i=1}^{N}(x_i - \bar{x})^2}{N - 1}}\)`

&lt;center&gt;
&lt;img src="figs/days-to-ship-sd.png" width=380&gt;
&lt;/center&gt;

]

--

.rightcol[

&lt;img src="images/sd.png"&gt;

]

---

class: inverse, center

# Outliers

&lt;center&gt;
&lt;img src = "images/outliers.jpeg" width = "730"&gt;
&lt;/center&gt;

---

## **Mean** &amp; **Standard Deviation** are sensitive to outliers

**Outliers**: `\(Q_1 - 1.5 IQR\)` or `\(Q_3 + 1.5 IQR\)`

**Extreme values**: `\(Q_1 - 3 IQR\)` or `\(Q_3 + 3 IQR\)`

--

.leftcol[


``` r
data1 &lt;- c(3,3,4,5,5,6,6,7,8,9)
```

- Mean: 5.6
- Standard Deviation: 2.01
- Median: 5.5
- IQR: 2.5

]

--

.rightcol[


``` r
data2 &lt;- data1
data2[10] &lt;- 20
```

- .red[Mean: 6.7]
- .red[Standard Deviation: 4.95]
- Median: 5.5
- IQR: 2.5

]

---

class: inverse, middle

# .center[Robust statistics for continuous data]
# .center[(less sensitive to outliers)]

## .red[Centrality]: Use _median_ rather than _mean_

## .blue[Variability]: Use _IQR_ rather than _standard deviation_

---

class: inverse

<div class="countdown" id="timer_86e0fcc9" data-warn-when="15" data-update-every="1" tabindex="0" style="top:0;right:0;font-size:2em;">
<div class="countdown-controls"><button class="countdown-bump-down">&minus;</button><button class="countdown-bump-up">&plus;</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">10</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>

# Practice with summary measurements

### 1) Read in the following data sets:

- `milk_production.csv`
- `lotr_words.csv`

### 2) For each variable in each data set, if possible, summarize its

### 1. .red[Centrality]
### 2. .blue[Variability]

---



class: inverse, middle

# Week 4: .fancy[Exploring Data]

.leftcol[

### 1. Exploring Data
### 2. Data Types
### 3. Centrality &amp; Variability
### 4. .orange[Visualizing Centrality &amp; Variability]

]

.rightcol[

### BREAK

### 5. Correlation
### 6. Visualizing Correlation
### 7. Visualizing Relationships

]

---

class: center

# "Visualizing data helps us think"

&lt;center&gt;
&lt;img src = "images/anscombe_data.png" width = "740"&gt;
&lt;/center&gt;

.left[.footer-small[Stephen Few (2009, pg. 6)]]

---

background-color: #fff
class: center

# Anscombe's Quartet

&lt;center&gt;
&lt;img src="figs/anscombe-quartet.png" width=600&gt;
&lt;/center&gt;

.left[.footer-small[Stephen Few (2009, pg. 6)]]

---

background-color: #fff
class: center

.leftcol60[

# Anscombe's Quartet

&lt;center&gt;
&lt;img src="figs/anscombe-quartet.png" width=600&gt;
&lt;/center&gt;


]

.rightcol40[

&lt;br&gt;
&lt;center&gt;
&lt;img src="https://eda.seas.gwu.edu/2023-Fall/images/logo.png" width=100%&gt;
&lt;/center&gt;

]

---

class: inverse, center, middle

# The data _type_ determines &lt;br&gt; how to summarize it

---

.cols3[

### **Nominal&lt;br&gt;(Categorical)**

**Measures**:
- Frequency counts /&lt;br&gt;Proportions
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;

**Charts**:
- Bars

]

--

.cols3[

### **Ordinal&lt;br&gt;(Categorical)**

**Measures**:
- Frequency counts /&lt;br&gt;Proportions
- .red[Centrality]:&lt;br&gt;Median, Mode
- .blue[Variability]: IQR
&lt;br&gt;

**Charts**:
- Bars

]

--

.cols3[

### **Numerical&lt;br&gt;(Continuous)**

**Measures**:
- .red[Centrality]:&lt;br&gt;Mean, median
- .blue[Variability]: Range, standard deviation, IQR
&lt;br&gt;
&lt;br&gt;

**Charts**:
- Histogram
- Boxplot

]

---

## Summarizing **Nominal** data

.leftcol45[

Summarize with counts / percentages


``` r
wildlife_impacts %&gt;%
*   count(operator, sort = TRUE) %&gt;%
*   mutate(p = n / sum(n))
```

```
#&gt; # A tibble: 4 × 3
#&gt;   operator               n     p
#&gt;   &lt;chr&gt;              &lt;int&gt; &lt;dbl&gt;
#&gt; 1 SOUTHWEST AIRLINES 17970 0.315
#&gt; 2 UNITED AIRLINES    15116 0.265
#&gt; 3 AMERICAN AIRLINES  14887 0.261
#&gt; 4 DELTA AIR LINES     9005 0.158
```

]

--

.rightcol55[

Visualize with (usually sorted) bars 

.code70[


``` r
wildlife_impacts %&gt;%
    count(operator, sort = TRUE) %&gt;%
*   ggplot() +
*   geom_col(aes(x = n, y = reorder(operator, n)),
*            width = 0.7) +
    labs(x = "Count", y = "Operator")
```

&lt;img src="figs/wildlife-operator-bars-1.png" width="504" /&gt;

]]

---

## Summarizing **Ordinal** data

.leftcol[

**Summarize**: Counts / percentages

.code70[

``` r
wildlife_impacts %&gt;%
*   count(incident_month, sort = TRUE) %&gt;%
*   mutate(p = n / sum(n))
```

```
#&gt; # A tibble: 12 × 3
#&gt;    incident_month     n      p
#&gt;             &lt;dbl&gt; &lt;int&gt;  &lt;dbl&gt;
#&gt;  1              9  7980 0.140 
#&gt;  2             10  7754 0.136 
#&gt;  3              8  7104 0.125 
#&gt;  4              5  6161 0.108 
#&gt;  5              7  6133 0.108 
#&gt;  6              6  4541 0.0797
#&gt;  7              4  4490 0.0788
#&gt;  8             11  4191 0.0736
#&gt;  9              3  2678 0.0470
#&gt; 10             12  2303 0.0404
#&gt; 11              1  1951 0.0342
#&gt; 12              2  1692 0.0297
```

]]

--

.rightcol[

**Visualize**: Bars

.code70[


``` r
wildlife_impacts %&gt;%
    count(incident_month, sort = TRUE) %&gt;%
*   ggplot() +
*   geom_col(aes(x = as.factor(incident_month),
*                y = n), width = 0.7) +
    labs(x = "Incident month")
```

&lt;img src="figs/wildlife-months-bar-1.png" width="504" /&gt;

]]

---

## Summarizing **continuous** variables

.leftcol30[

**Histograms**:

- Skewness
- Number of modes

&lt;br&gt;

**Boxplots**:

- Outliers
- Comparing variables

]

.rightcol70[.border[

&lt;img src = 'images/eda-boxplot.png'&gt;

]]

---

## **Histogram**: Identify Skewness &amp; # of Modes

.leftcol40[

**Summarise**:&lt;br&gt;Mean, median, sd, range, &amp; IQR:


``` r
summary(wildlife_impacts$height)
```

```
#&gt;    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
#&gt;     0.0     0.0    50.0   983.8  1000.0 25000.0   18038
```

]

--

.rightcol60[

**Visualize**:&lt;br&gt;Histogram (identify skewness &amp; modes)


``` r
ggplot(wildlife_impacts) +
* geom_histogram(aes(x = height), bins = 50) +
  labs(x = 'Height (ft)', y = 'Count')
```

&lt;img src="figs/wildlife-height-hist-1.png" width="504" style="display: block; margin: auto;" /&gt;

]

---

## **Histogram**: Identify Skewness &amp; # of Modes

.leftcol[

**Height**


``` r
ggplot(wildlife_impacts) +
* geom_histogram(aes(x = height), bins = 50) +
  labs(x = 'Height (ft)', y = 'Count')
```

&lt;img src="figs/unnamed-chunk-26-1.png" width="504" style="display: block; margin: auto;" /&gt;

]

.rightcol[

**Speed**


``` r
ggplot(wildlife_impacts) +
* geom_histogram(aes(x = speed), bins = 50) +
  labs(x = 'speed (mph)', y = 'Count')
```

&lt;img src="figs/wildlife-speed-hist-1.png" width="504" style="display: block; margin: auto;" /&gt;

]

---

## **Boxplot**: Identify outliers

.leftcol[

**Height**


``` r
ggplot(wildlife_impacts) +
*   geom_boxplot(aes(x = height)) +
    labs(x = 'Height (ft)', y = NULL)
```

&lt;img src="figs/wildlife-height-boxplot-1.png" width="504" style="display: block; margin: auto;" /&gt;
]

.rightcol[

**Speed**


``` r
ggplot(wildlife_impacts) +
*   geom_boxplot(aes(x = speed)) +
    labs(x = 'Speed (mph)', y = NULL)
```

&lt;img src="figs/wildlife-speed-boxplot-1.png" width="504" style="display: block; margin: auto;" /&gt;

]

---

.leftcol[

## Histogram

- Skewness
- Modes

&lt;img src="figs/unnamed-chunk-27-1.png" width="504" style="display: block; margin: auto;" /&gt;

]

.rightcol[

## Boxplot

- Outliers

&lt;br&gt;&lt;br&gt;

&lt;img src="figs/unnamed-chunk-28-1.png" width="504" style="display: block; margin: auto;" /&gt;

]

---

class: inverse

<div class="countdown" id="timer_3cd4deba" data-warn-when="15" data-update-every="1" tabindex="0" style="top:0;right:0;font-size:2em;">
<div class="countdown-controls"><button class="countdown-bump-down">&minus;</button><button class="countdown-bump-up">&plus;</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">15</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>

# Practicing visual summaries

.font90[

1) Read in the following data sets:

- `faithful.csv`
- `marathon.csv`

2) Summarize the following variables using an appropriate chart (bar chart, histogram, and / or boxplot):

- faithful: `eruptions`
- faithful: `waiting`
- marathon: `Age`
- marathon: `State`
- marathon: `Country`
- marathon: `` `Official Time` ``

]

---

class: inverse, center

# Break!

## Stand up, Move around, Stretch!

<div class="countdown" id="timer_34ca6d39" data-warn-when="30" data-update-every="1" tabindex="0" style="top:1;right:0;bottom:0;left:0;margin:5%;font-size:8em;">
<div class="countdown-controls"><button class="countdown-bump-down">&minus;</button><button class="countdown-bump-up">&plus;</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">05</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>

---



class: inverse, middle

# Week 4: .fancy[Exploring Data]

.leftcol[

### 1. Exploring Data
### 2. Data Types
### 3. Centrality &amp; Variability
### 4. Visualizing Centrality &amp; Variability

]

.rightcol[

### BREAK

### 5. .orange[Correlation]
### 6. Visualizing Correlation
### 7. Visualizing Relationships

]

---

## .center[Some pretty racist origins in [eugenics](https://en.wikipedia.org/wiki/Eugenics) ("well born")]

--

.leftcol[

### [Sir Francis Galton](https://en.wikipedia.org/wiki/Francis_Galton) (1822 - 1911)

- Charles Darwin's cousin.
- "Father" of [eugenics](https://en.wikipedia.org/wiki/Eugenics).
- Interested in heredity.

&lt;center&gt;
&lt;img src="images/Francis_Galton_1850s.jpg" width=200&gt;
&lt;/center&gt;

]

--

.rightcol[

### [Karl Pearson](https://en.wikipedia.org/wiki/Karl_Pearson) (1857 - 1936)

- Galton's ([hero-worshiping](https://en.wikipedia.org/wiki/Apotheosis)) protégé.
- Defined correlation equation.
- "Father" of mathematical statistics.

&lt;center&gt;
&lt;img src="images/Karl_Pearson.jpg" width=220&gt;
&lt;center&gt;

]

???

The beautiful irony is that human genetics was also the field that conclusively demonstrated the biological falsity of race.

---

.leftcol[

# Galton's family data

Galton, F. (1886). ["Regression towards mediocrity in hereditary stature"](http://www.stat.ucla.edu/~nchristo/statistics100C/history_regression.pdf). _The Journal of the Anthropological Institute of Great Britain and Ireland_ 15: 246-263.

**Galton's question**: Does marriage selection indicate a relationship between the heights of husbands and wives?&lt;br&gt;(He called this "assortative mating")

"midparent height" is just a scaled mean:

``` r
midparentHeight =  (father + 1.08*mother)/2
```

]

--

.rightcol[.code70[


``` r
library(HistData)

galtonScatterplot &lt;- ggplot(GaltonFamilies) +
    geom_point(aes(x = midparentHeight,
                   y = childHeight),
               size = 0.5, alpha = 0.7) +
    theme_classic() +
    labs(x = 'Midparent height (inches)',
         y = 'Child height (inches)')
```

&lt;center&gt;
&lt;img src="figs/galtonScatterplot.png" width=450&gt;
&lt;/center&gt;

]]

---

class: center, middle

# How do you measure correlation?

&lt;br&gt;

# Pearson came up with this:

# `\(r = \frac{\text{Cov}(x, y)}{\text{sd}(x) * \text{sd}(y)}\)`

---

# How do you measure correlation?

.leftcol60[

## `\(r = \frac{\text{Cov}(x, y)}{\text{sd}(x) * \text{sd}(y)}\)`

.font130[

Assumptions:
1. Variables must be interval or ratio
2. Linear relationship

]]

--

.rightcol40[

&lt;center&gt;
&lt;img src="figs/cor_vstrong_p.png" width=275&gt;
&lt;/center&gt;
&lt;br&gt;
&lt;center&gt;
&lt;img src="figs/cor_quad.png" width=275&gt;
&lt;/center&gt;

]

---

# How do you _interpret_ `\(r\)`?

.leftcol[

## `\(r = \frac{\text{Cov}(x, y)}{\text{sd}(x) * \text{sd}(y)}\)`

Interpretation:
- `\(-1 \le r \le 1\)`
- Closer to 1 is stronger correlation
- Closer to 0 is weaker correlation

]

--

.rightcol[.code70[


``` r
cor(x = GaltonFamilies$midparentHeight,
    y = GaltonFamilies$childHeight,
    method = 'pearson')
```

```
#&gt; [1] 0.3209499
```

]

&lt;center&gt;
&lt;img src="figs/galtonScatterplot.png" width=400&gt;
&lt;/center&gt;

]

---

## What does `\(r\)` mean?

.leftcol40[.font120[

- `\(\pm 0.1 - 0.3\)`: Weak
- `\(\pm 0.3 - 0.5\)`: Moderate
- `\(\pm 0.5 - 0.8\)`: Strong
- `\(\pm 0.8 - 1.0\)`: Very strong
]]

.rightcol60[

&lt;center&gt;
&lt;img src="figs/cor_p.png"&gt;
&lt;/center&gt;

]

---

class: center,  middle

# Visualizing correlation is...um...easy, right?

&lt;br&gt;

# [guessthecorrelation.com](http://guessthecorrelation.com/)

# Click [here](https://docs.google.com/presentation/d/1-7VqNRJp53FawfNJwKLEkpoubGQ_x0wIkN2lAMP7Emw/edit?usp=sharing) to vote!

---

class: middle

.leftcol20[

## The datasaurus

### (More [here](https://www.autodeskresearch.com/publications/samestats))

]

.rightcol80[

&lt;img src="images/datasaurus.png"&gt;

]

---

# Coefficient of determination: `\(r^2\)`

.leftcol[.font130[

Percent of variance in one variable that is explained by the other variable

&lt;center&gt;
&lt;img src="images/rsquared_venn.png"&gt;
&lt;/center&gt;

]]

--

.rightcol[

`\(r\)` | `\(r^2\)`
----|------
0.1 | 0.01
0.2 | 0.04
0.3 | 0.09
0.4 | 0.16
0.5 | 0.25
0.6 | 0.36
0.7 | 0.49
0.8 | 0.64
0.9 | 0.81
1.0 | 1.00

]

---

## You should report both `\(r\)` and `\(r^2\)`

&lt;br&gt;

### Correlation between parent and child height is 0.32, therefore 10% of the variance in the child height is explained by the parent height.

---

# Correlation != Causation

--

### X causes Y

- Training causes improved performance

--

### Y causes X

- Good (bad) performance causes people to train harder (less hard).

--

### Z causes both X &amp; Y

- Commitment and motivation cause increased training and better performance.

---

class: center

## Be weary of dual axes!

## ([They can cause spurious correlations](https://www.tylervigen.com/spurious-correlations))

--

.leftcol[

.font120[Dual axes]

&lt;center&gt;
&lt;img src="images/hbr_two_axes1.png"&gt;
&lt;/center&gt;

]

--

.rightcol[

.font120[Single axis]

&lt;center&gt;
&lt;img src="images/hbr_two_axes2.png"&gt;
&lt;/center&gt;

]

---

class: inverse, center

# Outliers

&lt;center&gt;
&lt;img src = "images/outliers.jpeg" width = "730"&gt;
&lt;/center&gt;

---

class: middle

&lt;center&gt;
&lt;img src="figs/pearson_base.png" width=600&gt;
&lt;/center&gt;

---

class: middle

&lt;center&gt;
&lt;img src="figs/pearson1.png" width=600&gt;
&lt;/center&gt;

---

class: middle

&lt;center&gt;
&lt;img src="figs/pearson2.png" width=600&gt;
&lt;/center&gt;

---

class: center, middle

## **Pearson** correlation is highly sensitive to outliers

&lt;center&gt;
&lt;img src="figs/pearson_grid.png" width=600&gt;
&lt;/center&gt;

---

# **Spearman**'s rank-order correlation

# `\(r = \frac{\text{Cov}(x, y)}{\text{sd}(x) * \text{sd}(y)}\)`

--

.font120[

- Separately rank the values of X &amp; Y.
- Use Pearson's correlation on the _ranks_ instead of the `\(x\)` &amp; `\(y\)` values.

]

--

.font120[

Assumptions:

- Variables can be ordinal, interval or ratio
- Relationship must be monotonic (i.e. does not require linearity)

]

---

class: center, middle

## Spearman correlation more robust to outliers

&lt;center&gt;
&lt;img src="figs/spearman_grid.png" width=600&gt;
&lt;/center&gt;

---

class: center, middle

## Spearman correlation more robust to outliers

.cols3[

&lt;center&gt;
&lt;img src="figs/pearson_grid.png"&gt;
&lt;/center&gt;

]

.cols3[

&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:right;"&gt; Pearson &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; Spearman &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; -0.56 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.53 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 0.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.69 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 0.94 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.81 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 0.38 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.76 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 0.81 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.79 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 0.31 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.70 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 0.95 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.81 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 0.51 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.75 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; -0.56 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.53 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

]

.cols3[

&lt;center&gt;
&lt;img src="figs/outlier_compare.png"&gt;
&lt;/center&gt;

]

---

## Summary of correlation

.font120[

- **Pearson's correlation**: Described the strength of a **linear** relationship between two variables that are interval or ratio in nature.
- **Spearman's rank-order correlation**: Describes the strength of a **monotonic** relationship between two variables that are ordinal, interval, or ratio. **It is more robust to outliers**.
- The **coefficient of determination** ( `\(r^2\)` ) describes the amount of variance in one variable that is explained by the other variable.
- **Correlation != Causation**

]

--

R command (hint: add `use = "complete.obs"` to drop NA values)


``` r
pearson  &lt;- cor(x, y, method = "pearson", use = "complete.obs")
spearman &lt;- cor(x, y, method = "spearman", use = "complete.obs")
```

---



class: inverse, middle

# Week 4: .fancy[Exploring Data]

.leftcol[

### 1. Exploring Data
### 2. Data Types
### 3. Centrality &amp; Variability
### 4. Visualizing Centrality &amp; Variability

]

.rightcol[

### BREAK

### 5. Correlation
### 6. .orange[Visualizing Correlation]
### 7. Visualizing Relationships

]

---

## **Scatterplots**: The correlation workhorse

.leftcol[


``` r
scatterplot &lt;- mtcars %&gt;% 
  ggplot() +
* geom_point(
*   aes(x = mpg, y = hp),
*   size = 2, alpha = 0.7
* ) +
  theme_classic(base_size = 20) +
  labs(
    x = 'Fuel economy (mpg)',
    y = 'Engine power (hp)'
  )

scatterplot
```

]

.rightcol[

&lt;center&gt;
&lt;img src="figs/mtcarsScatterplotBase.png"&gt;
&lt;/center&gt;

]

---

## Adding a correlation label to a chart

.leftcol[
Make the correlation label


``` r
corr &lt;- cor(
    mtcars$mpg, mtcars$hp,
    method = 'pearson')

*corrLabel &lt;- paste('r = ', round(corr, 2))
```

Add label to the chart with `annotate()`


``` r
scatterplot +
* annotate(
*   geom = 'text',
*   x = 25, y = 310,
*   label = corrLabel,
*   hjust = 0, size = 7
* )
```
]

.rightcol[

&lt;center&gt;
&lt;img src="figs/mtcarsScatterplot.png"&gt;
&lt;/center&gt;

]

---

class: middle, center
background-color: #FFFFFF

&lt;center&gt;
&lt;img src="images/all-the-correlations.jpeg" width=700&gt;
&lt;/center&gt;

---

## Visualize all the correlations: `ggcorr()`

.leftcol[


``` r
library('GGally')
```


``` r
mtcars %&gt;%
*   ggcorr()
```

]

.rightcol[

&lt;center&gt;
&lt;img src="figs/ggcor_mtcars.png"&gt;
&lt;/center&gt;

]

---

## Visualizing correlations: `ggcorr()`

.leftcol[


``` r
library('GGally')
```


``` r
mtcars %&gt;%
*   ggcorr(label = TRUE,
*          label_size = 3,
*          label_round = 2)
```

]

.rightcol[

&lt;center&gt;
&lt;img src="figs/ggcor_mtcars_labels.png"&gt;
&lt;/center&gt;

]

---

## Visualizing correlations: `ggcorr()`

.leftcol[


``` r
ggcor_mtcars_final &lt;- mtcars %&gt;%
    ggcorr(label = TRUE,
           label_size = 3,
           label_round = 2,
*          label_color = 'white',
*          nbreaks = 5,
*          palette = "RdBu")
```

]

.rightcol[

&lt;center&gt;
&lt;img src="figs/ggcor_mtcars_final.png"&gt;
&lt;/center&gt;

]

---

.leftcol[

## .center[Pearson]


``` r
mtcars %&gt;%
    ggcorr(label = TRUE,
           label_size = 3,
           label_round = 2,
*          method = c("pairwise", "pearson"))
```

&lt;center&gt;
&lt;img src="figs/ggcor_mtcars_pearson.png" width=400&gt;
&lt;/center&gt;

]

.rightcol[

## .center[Spearman]


``` r
mtcars %&gt;%
    ggcorr(label = TRUE,
           label_size = 3,
           label_round = 2,
*          method = c("pairwise", "spearman"))
```

&lt;center&gt;
&lt;img src="figs/ggcor_mtcars_spearman.png" width=400&gt;
&lt;/center&gt;

]

---

## Correlograms: `ggpairs()`

.leftcol40[


``` r
library('GGally')
```

``` r
mtcars %&gt;%
    select(mpg, cyl, disp, hp, wt) %&gt;%
*   ggpairs()
```

- Look for linear relationships
- View distribution of each variable

]

.rightcol60[

&lt;center&gt;
&lt;img src="figs/ggpairs_mtcars.png" width=600&gt;
&lt;/center&gt;

]

---

## Correlograms: `ggpairs()`

.leftcol40[


``` r
library('GGally')
```

``` r
mtcars %&gt;%
    select(mpg, cyl, disp, hp, wt) %&gt;%
    ggpairs() +
*   theme_classic()
```

- Look for linear relationships
- View distribution of each variable

]

.rightcol60[

&lt;center&gt;
&lt;img src="figs/ggpairs_mtcars_classic.png" width=600&gt;
&lt;/center&gt;

]

---

class: inverse

## Your turn

<div class="countdown" id="timer_0d67cc23" data-warn-when="30" data-update-every="15" data-blink-colon="true" tabindex="0" style="top:0;right:0;font-size:2em;">
<div class="countdown-controls"><button class="countdown-bump-down">&minus;</button><button class="countdown-bump-up">&plus;</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">15</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>

.leftcol[

Using the `penguins` data frame:

1. Find the two variables with the largest correlation in absolute value (i.e. closest to -1 or 1).

2. Create a scatter plot of those two variables.

3. Add an annotation for the Pearson correlation coefficient.

]

.rightcol[

### .center[[palmerpenguins library](https://allisonhorst.github.io/palmerpenguins/)]

&lt;center&gt;
&lt;img src="images/lter_penguins.png" width=700&gt;
&lt;/center&gt;

.right[Artwork by [@allison_horst](https://twitter.com/allison_horst)]

]

---

## **Simpson's Paradox**: when correlation betrays you

--

.leftcol[

.center[**Body mass vs. Bill depth**]

&lt;center&gt;
&lt;img src="figs/simpson_penguins.png" width=450&gt;
&lt;/center&gt;

]

--

.rightcol[

.center[**Body mass vs. Bill depth**]

&lt;center&gt;
&lt;img src="figs/simpson_penguins_good.png" width=600&gt;
&lt;/center&gt;

]

---



class: inverse, middle

# Week 4: .fancy[Exploring Data]

.leftcol[

### 1. Exploring Data
### 2. Data Types
### 3. Centrality &amp; Variability
### 4. Visualizing Centrality &amp; Variability

]

.rightcol[

### BREAK

### 5. Correlation
### 6. Visualizing Correlation
### 7. .orange[Visualizing Relationships]

]

---

## Visualizing variation

.leftcol30[

Ask yourself:

- What type of **variation** occurs within my variables?
- What type of **covariation** occurs between my variables?

Check out [these guides](https://eda.seas.gwu.edu/2023-Fall/references.html#choosing-the-right-chart)

]

.rightcol70[

&lt;center&gt;
&lt;img src = "images/plots-table.png" width = "800"&gt;
&lt;/center&gt;

]

---

## Two **Categorical** Variables

Summarize with a table of counts

.leftcol60[


``` r
wildlife_impacts %&gt;%
*   count(operator, time_of_day)
```

```
#&gt; # A tibble: 20 × 3
#&gt;    operator           time_of_day     n
#&gt;    &lt;chr&gt;              &lt;chr&gt;       &lt;int&gt;
#&gt;  1 AMERICAN AIRLINES  Dawn          458
#&gt;  2 AMERICAN AIRLINES  Day          7809
#&gt;  3 AMERICAN AIRLINES  Dusk          584
#&gt;  4 AMERICAN AIRLINES  Night        3710
#&gt;  5 AMERICAN AIRLINES  &lt;NA&gt;         2326
#&gt;  6 DELTA AIR LINES    Dawn          267
#&gt;  7 DELTA AIR LINES    Day          4846
#&gt;  8 DELTA AIR LINES    Dusk          353
#&gt;  9 DELTA AIR LINES    Night        2090
#&gt; 10 DELTA AIR LINES    &lt;NA&gt;         1449
#&gt; 11 SOUTHWEST AIRLINES Dawn          394
#&gt; 12 SOUTHWEST AIRLINES Day          9109
#&gt; 13 SOUTHWEST AIRLINES Dusk          599
#&gt; 14 SOUTHWEST AIRLINES Night        5425
#&gt; 15 SOUTHWEST AIRLINES &lt;NA&gt;         2443
#&gt; 16 UNITED AIRLINES    Dawn          151
#&gt; 17 UNITED AIRLINES    Day          3359
#&gt; 18 UNITED AIRLINES    Dusk          181
#&gt; 19 UNITED AIRLINES    Night        1510
#&gt; 20 UNITED AIRLINES    &lt;NA&gt;         9915
```

]

---

## Two **Categorical** Variables

Convert to "wide" format with `pivot_wider()` to make it easier to compare values

.leftcol70[


``` r
wildlife_impacts %&gt;%
    count(operator, time_of_day) %&gt;%
*   pivot_wider(names_from = time_of_day, values_from = n)
```

```
#&gt; # A tibble: 4 × 6
#&gt;   operator            Dawn   Day  Dusk Night  `NA`
#&gt;   &lt;chr&gt;              &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;
#&gt; 1 AMERICAN AIRLINES    458  7809   584  3710  2326
#&gt; 2 DELTA AIR LINES      267  4846   353  2090  1449
#&gt; 3 SOUTHWEST AIRLINES   394  9109   599  5425  2443
#&gt; 4 UNITED AIRLINES      151  3359   181  1510  9915
```

]

---

## Two **Categorical** Variables

.leftcol45[

Visualize with bars:&lt;br&gt;map **fill** to denote 2nd categorical var


``` r
wildlife_impacts %&gt;%
  count(operator, time_of_day) %&gt;%
  ggplot() +
  geom_col(
    aes(
      x = n,
      y = reorder(operator, n),
*     fill = reorder(time_of_day, n)
    ), 
    width = 0.7,
*   position = 'dodge') +
  theme(legend.position = "bottom") +
  labs(
    fill = "Time of day", 
    y = "Airline"
  )
```

]

.rightcol55[

&lt;img src="figs/unnamed-chunk-56-1.png" width="648" style="display: block; margin: auto;" /&gt;

]

---

## Two **Continuous** Variables

Visualize with scatterplot - looking for _clustering_ and/or _correlational_ relationship

.leftcol45[


``` r
ggplot(wildlife_impacts) +
  geom_point(
    aes(
      x = speed, 
      y = height  
    ),
    size = 0.5) +
  labs(
    x = 'Speed (mph)',
    y = 'Height (f)'
  )
```

]

.rightcol55[

&lt;img src="figs/unnamed-chunk-57-1.png" width="504" style="display: block; margin: auto;" /&gt;

]

---

## One **Continuous**, One **Categorical**

Visualize with **boxplot**

.leftcol45[


``` r
ggplot(wildlife_impacts) +
  geom_boxplot(
    aes(
      x = speed, 
      y = operator)
    ) + 
  labs(
    x = 'Speed (mph)',
    y = 'Airline'
  )
```

]

.rightcol55[

&lt;img src="figs/unnamed-chunk-58-1.png" width="504" style="display: block; margin: auto;" /&gt;

]

---

class: inverse

<div class="countdown" id="timer_68f0daf8" data-warn-when="15" data-update-every="1" tabindex="0" style="top:0;right:0;font-size:2em;">
<div class="countdown-controls"><button class="countdown-bump-down">&minus;</button><button class="countdown-bump-up">&plus;</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">15</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>

# Practice doing EDA

1) Read in the `candy_rankings.csv` data sets

2) Preview the data, note the data types and what each variable is.

3) Visualize (at least) three _relationships_ between two variables (guided by a question) using an appropriate chart:

- Bar chart
- Scatterplot
- Boxplot

---

class: inverse, middle

# Reminders:

## You have **4** days until your [Project Proposal](https://eda.seas.gwu.edu/2024-Fall/project/1-proposal.html) is due

## You have **6** days until your [Mini Project 1](https://eda.seas.gwu.edu/2024-Fall/mini/1-data-cleaning.html) is due.

##  [Sign up](https://docs.google.com/spreadsheets/d/1qhV29wAumIuFv2Cwmy-sgEirfTi3_a8OCUsqFUWNkzw/edit?usp=sharing) for meeting slot next week

    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false,
"ratio": "16:9"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
